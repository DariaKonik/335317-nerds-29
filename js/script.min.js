const buttonContacts=document.querySelector(".button-contacts"),modalQuestion=document.querySelector(".modal-question"),modalClose=modalQuestion.querySelector(".modal-close"),questionForm=modalQuestion.querySelector(".modal-question__form"),nameInput=modalQuestion.querySelector(".modal-question__user-name"),emailInput=modalQuestion.querySelector(".modal-question__user-email"),questionInput=modalQuestion.querySelector(".modal-question__question"),mapOffice=document.querySelector("iframe.contacts__map");mapOffice.style.display="block";let isStorageSupport=!0,storedName="",storedEmail="";try{storedName=localStorage.getItem("name"),storedEmail=localStorage.getItem("email")}catch(a){isStorageSupport=!1}function hideModal(){modalQuestion.classList.remove("modal-show"),modalQuestion.classList.remove("modal-error")}buttonContacts.addEventListener("click",function(a){a.preventDefault(),modalQuestion.classList.add("modal-show"),isStorageSupport?(emailInput.value=storedEmail,nameInput.value=storedName,questionInput.focus()):nameInput.focus()}),modalClose.addEventListener("click",function(){hideModal()}),window.addEventListener("keydown",function(a){27===a.keyCode&&modalQuestion.classList.contains("modal-show")&&(a.preventDefault(),hideModal())}),questionForm.addEventListener("submit",function(a){nameInput.value&&emailInput.value?isStorageSupport&&(localStorage.setItem("name",nameInput.value),localStorage.setItem("email",emailInput.value)):(a.preventDefault(),modalQuestion.classList.remove("modal-error"),modalQuestion.offsetWidth=modalQuestion.offsetWidth,modalQuestion.classList.add("modal-error"))}),questionForm.addEventListener("submit",function(){nameInput.value||(nameInput.classList.add("invalid"),nameInput.addEventListener("focus",function(){nameInput.classList.remove("invalid")},{once:!0}))}),questionForm.addEventListener("submit",function(){emailInput.value||(emailInput.classList.add("invalid"),emailInput.addEventListener("focus",function(){emailInput.classList.remove("invalid")},{once:!0}))});
