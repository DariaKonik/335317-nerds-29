const buttonContacts=document.querySelector(".button-contacts"),modalQuestion=document.querySelector(".modal-question"),modalClose=modalQuestion.querySelector(".modal-close"),questionForm=modalQuestion.querySelector(".modal-question__form"),nameInput=modalQuestion.querySelector(".modal-question__user-name"),emailInput=modalQuestion.querySelector(".modal-question__user-email"),questionInput=modalQuestion.querySelector(".modal-question__question"),mapOffice=document.querySelector("iframe.contacts__map"),promoSection=document.querySelector(".promo"),firstSliderButton=promoSection?.querySelector(".slider-controls__button:first-child"),secondSliderButton=promoSection?.querySelector(".slider-controls__button:nth-child(2)"),thirdSliderButton=promoSection?.querySelector(".slider-controls__button:nth-child(3)"),firstSlide=promoSection?.querySelector(".slider__item:first-child"),secondSlide=promoSection?.querySelector(".slider__item:nth-child(2)"),thirdSlide=promoSection?.querySelector(".slider__item:nth-child(3)"),sliderWrapper=document.querySelector(".first-section-wrapper");mapOffice.style.display="block";let isStorageSupport=!0,storedName="",storedEmail="";try{storedName=localStorage.getItem("name"),storedEmail=localStorage.getItem("email")}catch(a){isStorageSupport=!1}function hideModal(){modalQuestion.classList.remove("modal-show"),modalQuestion.classList.remove("modal-error")}buttonContacts.addEventListener("click",function(a){a.preventDefault(),modalQuestion.classList.add("modal-show"),isStorageSupport?(emailInput.value=storedEmail,nameInput.value=storedName,questionInput.focus()):nameInput.focus()}),modalClose.addEventListener("click",function(){hideModal()}),window.addEventListener("keydown",function(a){27===a.keyCode&&modalQuestion.classList.contains("modal-show")&&(a.preventDefault(),hideModal())}),questionForm.addEventListener("submit",function(a){nameInput.value&&emailInput.value?isStorageSupport&&(localStorage.setItem("name",nameInput.value),localStorage.setItem("email",emailInput.value)):(a.preventDefault(),modalQuestion.classList.remove("modal-error"),modalQuestion.offsetWidth=modalQuestion.offsetWidth,modalQuestion.classList.add("modal-error"))}),questionForm.addEventListener("submit",function(){nameInput.value||(nameInput.classList.add("invalid"),nameInput.addEventListener("focus",function(){nameInput.classList.remove("invalid")},{once:!0}))}),questionForm.addEventListener("submit",function(){emailInput.value||(emailInput.classList.add("invalid"),emailInput.addEventListener("focus",function(){emailInput.classList.remove("invalid")},{once:!0}))});function removeActiveClass(){const a=promoSection?.querySelector(".slider-controls__button--active"),b=promoSection?.querySelector(".slider__item--current");b.classList.remove("slider__item--current"),a.classList.remove("slider-controls__button--active")}null!=secondSliderButton&&secondSliderButton.addEventListener("click",function(){removeActiveClass(),secondSlide.classList.add("slider__item--current"),sliderWrapper.classList.remove("promo-wrapper-1"),sliderWrapper.classList.remove("promo-wrapper-3"),sliderWrapper.classList.add("promo-wrapper-2"),secondSliderButton.classList.add("slider-controls__button--active")});null!=firstSliderButton&&firstSliderButton.addEventListener("click",function(){removeActiveClass(),firstSlide.classList.add("slider__item--current"),sliderWrapper.classList.remove("promo-wrapper-2"),sliderWrapper.classList.remove("promo-wrapper-3"),sliderWrapper.classList.add("promo-wrapper-1"),firstSliderButton.classList.add("slider-controls__button--active")});null!=thirdSliderButton&&thirdSliderButton.addEventListener("click",function(){removeActiveClass(),thirdSlide.classList.add("slider__item--current"),sliderWrapper.classList.remove("promo-wrapper-1"),sliderWrapper.classList.remove("promo-wrapper-2"),sliderWrapper.classList.add("promo-wrapper-3"),thirdSliderButton.classList.add("slider-controls__button--active")});
